function ajax_get(e,t,a){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){try{var e=JSON.parse(n.responseText)}catch(e){return void console.log(e.message)}a(e)}},n.open("GET",e,!0),n.send()}var showPages=3,totalPages=10,render=document.getElementById("render"),city=document.getElementById("city");function Paginate(e){e=parseInt(e),totalPages<showPages&&(showPages=totalPages),totalPages<e&&(e=totalPages),e<1&&(e=1);var t=parseInt(Math.floor(showPages/2)),a=t;showPages%2==0&&a--;for(var n=parseInt(e-a),s=parseInt(e+t);n<1;)n++;for(;totalPages<s;)s--;for(var r=e-n;r<t&&s<totalPages;)s++,r++;if(r=s-e,showPages%2==0)for(;r<=a&&1<n;)n--,r++;else for(;r<a&&1<n;)n--,r++;var i=e-1<1?1:e-1,o=totalPages<=e+1?totalPages:e+1,c=document.createElement("ul");c.setAttribute("class","pagination");var d=document.createElement("li");d.setAttribute("data-page",i),e===i?d.setAttribute("class","page prev disable"):(d.setAttribute("class","page prev"),clickEventGenerate(d)),c.appendChild(d);for(var l=n;l<=s;l++){var g=document.createElement("li");g.innerHTML=l,g.setAttribute("data-page",l),l===e?g.setAttribute("class","page active"):(g.setAttribute("class","page"),clickEventGenerate(g)),c.appendChild(g)}var p=document.createElement("li");p.setAttribute("data-page",o),e===o?p.setAttribute("class","page next disable"):(p.setAttribute("class","page next"),clickEventGenerate(p)),c.appendChild(p),render.innerHTML="",render.appendChild(c)}function clickEventGenerate(e){e.addEventListener("click",function(e){var t=e.target.getAttribute("data-page");Paginate(t),ajax_get("data/test.json",t,function(e){document.getElementById("city").innerHTML="<span>"+e[t-1].city+"</span>"})})}document.addEventListener("DOMContentLoaded",function(){Paginate(5),ajax_get("data/test.json",4,function(e){document.getElementById("city").innerHTML="<span>"+e[4].city+"</span>"})});